"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[2676],{33413:function(On,fn,f){var Oe=f(487462),V=f(204942),T=f(297685),R=f(700091),U=f(667294),hn=f(294184),t=f.n(hn),Re=f(821770),le=f(915105),gn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],me=U.forwardRef(function(S,mn){var ie,He=S.prefixCls,F=He===void 0?"rc-switch":He,pn=S.className,We=S.checked,yn=S.defaultChecked,pe=S.disabled,ye=S.loadingIcon,Cn=S.checkedChildren,$e=S.unCheckedChildren,Ce=S.onClick,Ee=S.onChange,oe=S.onKeyDown,En=(0,R.Z)(S,gn),Sn=(0,Re.Z)(!1,{value:We,defaultValue:yn}),ue=(0,T.Z)(Sn,2),z=ue[0],Se=ue[1];function B(K,de){var j=z;return pe||(j=K,Se(j),Ee==null||Ee(j,de)),j}function Fe(K){K.which===le.Z.LEFT?B(!1,K):K.which===le.Z.RIGHT&&B(!0,K),oe==null||oe(K)}function kn(K){var de=B(!z,K);Ce==null||Ce(de,K)}var ce=t()(F,pn,(ie={},(0,V.Z)(ie,"".concat(F,"-checked"),z),(0,V.Z)(ie,"".concat(F,"-disabled"),pe),ie));return U.createElement("button",(0,Oe.Z)({},En,{type:"button",role:"switch","aria-checked":z,disabled:pe,className:ce,ref:mn,onKeyDown:Fe,onClick:kn}),ye,U.createElement("span",{className:"".concat(F,"-inner")},U.createElement("span",{className:"".concat(F,"-inner-checked")},Cn),U.createElement("span",{className:"".concat(F,"-inner-unchecked")},$e)))});me.displayName="Switch",fn.Z=me},79841:function(On,fn,f){f.d(fn,{Qw:function(){return z},FJ:function(){return B},hT:function(){return Se},OF:function(){return ue},ZP:function(){return zn}});var Oe=f(487462),V=f(974902),T=f(601413),R=f(297685),U=f(700091),hn=f(671002),t=f(667294),Re=f(388905),le=f(517341),gn=f(88708),me=f(821770),S=f(915105),mn=f(456982),ie=f(125530),He=t.createContext(null),F=He,pn=t.createContext(null),We=pn;function yn(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function pe(e){var n=e||{},r=n.label,u=n.value,a=n.children,i=u||"value";return{_title:r?[r]:["title","label"],value:i,key:i,children:a||"children"}}function ye(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function Cn(e,n){var r=[];function u(a){a.forEach(function(i){var l=i[n.children];l&&(r.push(i[n.value]),u(l))})}return u(e),r}function $e(e){return e==null}var Ce={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ee=function(n,r){var u=(0,Re.lk)(),a=u.prefixCls,i=u.multiple,l=u.searchValue,o=u.toggleOpen,c=u.open,s=u.notFoundContent,h=t.useContext(We),M=h.virtual,k=h.listHeight,D=h.listItemHeight,P=h.treeData,w=h.fieldNames,X=h.onSelect,G=h.dropdownMatchSelectWidth,q=h.treeExpandAction,p=t.useContext(F),Z=p.checkable,A=p.checkedKeys,be=p.halfCheckedKeys,_=p.treeExpandedKeys,bn=p.treeDefaultExpandAll,_e=p.treeDefaultExpandedKeys,Ue=p.onTreeExpand,Dn=p.treeIcon,xn=p.showTreeIcon,Be=p.switcherIcon,je=p.treeLine,Ge=p.treeNodeFilterProp,Je=p.loadData,De=p.treeLoadedKeys,Ye=p.treeMotion,Qe=p.onTreeLoad,ze=p.keyEntities,ee=t.useRef(),xe=(0,mn.Z)(function(){return P},[c,P],function(g,x){return x[0]&&g[1]!==x[1]}),Xe=t.useMemo(function(){return Z?{checked:A,halfChecked:be}:null},[Z,A,be]);t.useEffect(function(){if(c&&!i&&A.length){var g;(g=ee.current)===null||g===void 0||g.scrollTo({key:A[0]})}},[c]);var Ie=String(l).toLowerCase(),qe=function(x){return Ie?String(x[Ge]).toLowerCase().includes(Ie):!1},Te=t.useState(_e),Le=(0,R.Z)(Te,2),se=Le[0],en=Le[1],nn=t.useState(null),Ke=(0,R.Z)(nn,2),Me=Ke[0],Pe=Ke[1],tn=t.useMemo(function(){return _?(0,V.Z)(_):l?Me:se},[se,Me,_,l]);t.useEffect(function(){l&&Pe(Cn(P,w))},[l]);var In=function(x){en(x),Pe(x),Ue&&Ue(x)},ne=function(x){x.preventDefault()},J=function(x,te){var W=te.node;Z&&ye(W)||(X(W.key,{selected:!A.includes(W.key)}),i||o(!1))},rn=t.useState(null),H=(0,R.Z)(rn,2),we=H[0],an=H[1],O=ze[we];if(t.useImperativeHandle(r,function(){var g;return{scrollTo:(g=ee.current)===null||g===void 0?void 0:g.scrollTo,onKeyDown:function(te){var W,ln=te.which;switch(ln){case S.Z.UP:case S.Z.DOWN:case S.Z.LEFT:case S.Z.RIGHT:(W=ee.current)===null||W===void 0||W.onKeyDown(te);break;case S.Z.ENTER:{if(O){var on=(O==null?void 0:O.node)||{},ve=on.selectable,un=on.value;ve!==!1&&J(null,{node:{key:we},selected:!A.includes(un)})}break}case S.Z.ESC:o(!1)}},onKeyUp:function(){}}}),xe.length===0)return t.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:ne},s);var Ze={fieldNames:w};return De&&(Ze.loadedKeys=De),tn&&(Ze.expandedKeys=tn),t.createElement("div",{onMouseDown:ne},O&&c&&t.createElement("span",{style:Ce,"aria-live":"assertive"},O.node.value),t.createElement(ie.Z,(0,Oe.Z)({ref:ee,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:xe,height:k,itemHeight:D,virtual:M!==!1&&G!==!1,multiple:i,icon:Dn,showIcon:xn,switcherIcon:Be,showLine:je,loadData:l?null:Je,motion:Ye,activeKey:we,checkable:Z,checkStrictly:!0,checkedKeys:Xe,selectedKeys:Z?[]:A,defaultExpandAll:bn},Ze,{onActiveChange:an,onSelect:J,onCheck:J,onExpand:In,onLoad:Qe,filterTreeNode:qe,expandAction:q})))},oe=t.forwardRef(Ee);oe.displayName="OptionList";var En=oe,Sn=function(){return null},ue=Sn,z="SHOW_ALL",Se="SHOW_PARENT",B="SHOW_CHILD";function Fe(e,n,r,u){var a=new Set(e);return n===B?e.filter(function(i){var l=r[i];return!(l&&l.children&&l.children.some(function(o){var c=o.node;return a.has(c[u.value])})&&l.children.every(function(o){var c=o.node;return ye(c)||a.has(c[u.value])}))}):n===Se?e.filter(function(i){var l=r[i],o=l?l.parent:null;return!(o&&!ye(o.node)&&a.has(o.key))}):e}var kn=f(850344),ce=f(580334),K=["children","value"];function de(e){return(0,kn.Z)(e).map(function(n){if(!t.isValidElement(n)||!n.type)return null;var r=n,u=r.key,a=r.props,i=a.children,l=a.value,o=(0,U.Z)(a,K),c=(0,T.Z)({key:u,value:l},o),s=de(i);return s.length&&(c.children=s),c}).filter(function(n){return n})}function j(e){if(!e)return e;var n=(0,T.Z)({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return(0,ce.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),n}}),n}function Rn(e,n,r,u,a,i){var l=null,o=null;function c(){function s(h){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.map(function(D,P){var w="".concat(M,"-").concat(P),X=D[i.value],G=r.includes(X),q=s(D[i.children]||[],w,G),p=t.createElement(ue,D,q.map(function(A){return A.node}));if(n===X&&(l=p),G){var Z={pos:w,node:p,children:q};return k||o.push(Z),Z}return null}).filter(function(D){return D})}o||(o=[],s(u),o.sort(function(h,M){var k=h.node.props.value,D=M.node.props.value,P=r.indexOf(k),w=r.indexOf(D);return P-w}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,ce.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),l}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,ce.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),a?o:o.map(function(h){var M=h.node;return M})}})}function Hn(e,n){var r=n.id,u=n.pId,a=n.rootPId,i={},l=[],o=e.map(function(c){var s=(0,T.Z)({},c),h=s[r];return i[h]=s,s.key=s.key||h,s});return o.forEach(function(c){var s=c[u],h=i[s];h&&(h.children=h.children||[],h.children.push(c)),(s===a||!h&&a===null)&&l.push(c)}),l}function Wn(e,n,r){return t.useMemo(function(){return e?r?Hn(e,(0,T.Z)({id:"id",pId:"pId",rootPId:null},r!==!0?r:{})):e:de(n)},[n,r,e])}var $n=function(e){var n=t.useRef({valueLabels:new Map});return t.useMemo(function(){var r=n.current.valueLabels,u=new Map,a=e.map(function(i){var l,o=i.value,c=(l=i.label)!==null&&l!==void 0?l:r.get(o);return u.set(o,c),(0,T.Z)((0,T.Z)({},i),{},{label:c})});return n.current.valueLabels=u,[a]},[e])};function Ln(e){var n=t.useRef();n.current=e;var r=t.useCallback(function(){return n.current.apply(n,arguments)},[]);return r}var Fn=f(501089),_n=function(e,n){return t.useMemo(function(){var r=(0,Fn.I8)(e,{fieldNames:n,initWrapper:function(a){return(0,T.Z)((0,T.Z)({},a),{},{valueEntities:new Map})},processEntity:function(a,i){var l=a.node[n.value];if(!1)var o;i.valueEntities.set(l,a)}});return r},[e,n])},Un=function(e,n,r,u){return t.useMemo(function(){var a=e.map(function(c){var s=c.value;return s}),i=n.map(function(c){var s=c.value;return s}),l=a.filter(function(c){return!u[c]});if(r){var o=(0,le.S)(a,!0,u);a=o.checkedKeys,i=o.halfCheckedKeys}return[Array.from(new Set([].concat((0,V.Z)(l),(0,V.Z)(a)))),i]},[e,n,r,u])},Bn=f(204942),jn=function(e,n,r){var u=r.treeNodeFilterProp,a=r.filterTreeNode,i=r.fieldNames,l=i.children;return t.useMemo(function(){if(!n||a===!1)return e;var o;if(typeof a=="function")o=a;else{var c=n.toUpperCase();o=function(M,k){var D=k[u];return String(D).toUpperCase().includes(c)}}function s(h){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return h.map(function(k){var D=k[l],P=M||o(n,j(k)),w=s(D||[],P);return P||w.length?(0,T.Z)((0,T.Z)({},k),{},(0,Bn.Z)({isLeaf:void 0},l,w)):null}).filter(function(k){return k})}return s(e)},[e,n,l,u,a])};function ut(e){var n=e.searchPlaceholder,r=e.treeCheckStrictly,u=e.treeCheckable,a=e.labelInValue,i=e.value,l=e.multiple;warning(!n,"`searchPlaceholder` has been removed."),r&&a===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(a||r)&&warning(toArray(i).every(function(o){return o&&_typeof(o)==="object"&&"value"in o}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),r||l||u?warning(!i||Array.isArray(i),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(i),"`value` should not be array when `TreeSelect` is single mode.")}var ct=null,Gn=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function Jn(e){return!e||(0,hn.Z)(e)!=="object"}var Yn=t.forwardRef(function(e,n){var r=e.id,u=e.prefixCls,a=u===void 0?"rc-tree-select":u,i=e.value,l=e.defaultValue,o=e.onChange,c=e.onSelect,s=e.onDeselect,h=e.searchValue,M=e.inputValue,k=e.onSearch,D=e.autoClearSearchValue,P=D===void 0?!0:D,w=e.filterTreeNode,X=e.treeNodeFilterProp,G=X===void 0?"value":X,q=e.showCheckedStrategy,p=q===void 0?B:q,Z=e.treeNodeLabelProp,A=e.multiple,be=e.treeCheckable,_=e.treeCheckStrictly,bn=e.labelInValue,_e=e.fieldNames,Ue=e.treeDataSimpleMode,Dn=e.treeData,xn=e.children,Be=e.loadData,je=e.treeLoadedKeys,Ge=e.onTreeLoad,Je=e.treeDefaultExpandAll,De=e.treeExpandedKeys,Ye=e.treeDefaultExpandedKeys,Qe=e.onTreeExpand,ze=e.treeExpandAction,ee=e.virtual,xe=e.listHeight,Xe=xe===void 0?200:xe,Ie=e.listItemHeight,qe=Ie===void 0?20:Ie,Te=e.onDropdownVisibleChange,Le=e.dropdownMatchSelectWidth,se=Le===void 0?!0:Le,en=e.treeLine,nn=e.treeIcon,Ke=e.showTreeIcon,Me=e.switcherIcon,Pe=e.treeMotion,tn=(0,U.Z)(e,Gn),In=(0,gn.ZP)(r),ne=be&&!_,J=be||_,rn=_||bn,H=J||A,we=(0,me.Z)(l,{value:i}),an=(0,R.Z)(we,2),O=an[0],Ze=an[1],g=t.useMemo(function(){return pe(_e)},[JSON.stringify(_e)]),x=(0,me.Z)("",{value:h!==void 0?h:M,postState:function(d){return d||""}}),te=(0,R.Z)(x,2),W=te[0],ln=te[1],on=function(d){ln(d),k==null||k(d)},ve=Wn(Dn,xn,Ue),un=_n(ve,g),N=un.keyEntities,re=un.valueEntities,Kn=t.useCallback(function(v){var d=[],m=[];return v.forEach(function(y){re.has(y)?m.push(y):d.push(y)}),{missingRawValues:d,existRawValues:m}},[re]),Mn=jn(ve,W,{fieldNames:g,treeNodeFilterProp:G,filterTreeNode:w}),Pn=t.useCallback(function(v){if(v){if(Z)return v[Z];for(var d=g._title,m=0;m<d.length;m+=1){var y=v[d[m]];if(y!==void 0)return y}}},[g,Z]),Ne=t.useCallback(function(v){var d=yn(v);return d.map(function(m){return Jn(m)?{value:m}:m})},[]),cn=t.useCallback(function(v){var d=Ne(v);return d.map(function(m){var y=m.label,L=m.value,b=m.halfChecked,C,E=re.get(L);if(E){var I;y=(I=y)!==null&&I!==void 0?I:Pn(E.node),C=E.node.disabled}else if(y===void 0){var Y=Ne(O).find(function(Ve){return Ve.value===L});y=Y.label}return{label:y,value:L,halfChecked:b,disabled:C}})},[re,Pn,Ne,O]),wn=t.useMemo(function(){return Ne(O)},[Ne,O]),Xn=t.useMemo(function(){var v=[],d=[];return wn.forEach(function(m){m.halfChecked?d.push(m):v.push(m)}),[v,d]},[wn]),Zn=(0,R.Z)(Xn,2),fe=Zn[0],Nn=Zn[1],Vn=t.useMemo(function(){return fe.map(function(v){return v.value})},[fe]),qn=Un(fe,Nn,ne,N),An=(0,R.Z)(qn,2),he=An[0],dn=An[1],et=t.useMemo(function(){var v=Fe(he,p,N,g),d=v.map(function(b){var C,E,I;return(C=(E=N[b])===null||E===void 0||(I=E.node)===null||I===void 0?void 0:I[g.value])!==null&&C!==void 0?C:b}),m=d.map(function(b){var C=fe.find(function(E){return E.value===b});return{value:b,label:C==null?void 0:C.label}}),y=cn(m),L=y[0];return!H&&L&&$e(L.value)&&$e(L.label)?[]:y.map(function(b){var C;return(0,T.Z)((0,T.Z)({},b),{},{label:(C=b.label)!==null&&C!==void 0?C:b.value})})},[g,H,he,fe,cn,p,N]),nt=$n(et),tt=(0,R.Z)(nt,1),rt=tt[0],sn=Ln(function(v,d,m){var y=cn(v);if(Ze(y),P&&ln(""),o){var L=v;if(ne){var b=Fe(v,p,N,g);L=b.map(function($){var Q=re.get($);return Q?Q.node[g.value]:$})}var C=d||{triggerValue:void 0,selected:void 0},E=C.triggerValue,I=C.selected,Y=L;if(_){var Ve=Nn.filter(function($){return!L.includes($.value)});Y=[].concat((0,V.Z)(Y),(0,V.Z)(Ve))}var Ae=cn(Y),ae={preValue:fe,triggerValue:E},ge=!0;(_||m==="selection"&&!I)&&(ge=!1),Rn(ae,E,v,ve,ge,g),J?ae.checked=I:ae.selected=I;var vn=rn?Ae:Ae.map(function($){return $.value});o(H?vn:vn[0],rn?null:Ae.map(function($){return $.label}),ae)}}),Tn=t.useCallback(function(v,d){var m,y=d.selected,L=d.source,b=N[v],C=b==null?void 0:b.node,E=(m=C==null?void 0:C[g.value])!==null&&m!==void 0?m:v;if(!H)sn([E],{selected:!0,triggerValue:E},"option");else{var I=y?[].concat((0,V.Z)(Vn),[E]):he.filter(function(Q){return Q!==E});if(ne){var Y=Kn(I),Ve=Y.missingRawValues,Ae=Y.existRawValues,ae=Ae.map(function(Q){return re.get(Q).key}),ge;if(y){var vn=(0,le.S)(ae,!0,N);ge=vn.checkedKeys}else{var $=(0,le.S)(ae,{checked:!1,halfCheckedKeys:dn},N);ge=$.checkedKeys}I=[].concat((0,V.Z)(Ve),(0,V.Z)(ge.map(function(Q){return N[Q].node[g.value]})))}sn(I,{selected:y,triggerValue:E},L||"option")}y||!H?c==null||c(E,j(C)):s==null||s(E,j(C))},[Kn,re,N,g,H,Vn,sn,ne,c,s,he,dn]),at=t.useCallback(function(v){if(Te){var d={};Object.defineProperty(d,"documentClickClose",{get:function(){return(0,ce.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Te(v,d)}},[Te]),lt=Ln(function(v,d){var m=v.map(function(y){return y.value});if(d.type==="clear"){sn(m,{},"selection");return}d.values.length&&Tn(d.values[0].value,{selected:!1,source:"selection"})}),it=t.useMemo(function(){return{virtual:ee,dropdownMatchSelectWidth:se,listHeight:Xe,listItemHeight:qe,treeData:Mn,fieldNames:g,onSelect:Tn,treeExpandAction:ze}},[ee,se,Xe,qe,Mn,g,Tn,ze]),ot=t.useMemo(function(){return{checkable:J,loadData:Be,treeLoadedKeys:je,onTreeLoad:Ge,checkedKeys:he,halfCheckedKeys:dn,treeDefaultExpandAll:Je,treeExpandedKeys:De,treeDefaultExpandedKeys:Ye,onTreeExpand:Qe,treeIcon:nn,treeMotion:Pe,showTreeIcon:Ke,switcherIcon:Me,treeLine:en,treeNodeFilterProp:G,keyEntities:N}},[J,Be,je,Ge,he,dn,Je,De,Ye,Qe,nn,Pe,Ke,Me,en,G,N]);return t.createElement(We.Provider,{value:it},t.createElement(F.Provider,{value:ot},t.createElement(Re.Ac,(0,Oe.Z)({ref:n},tn,{id:In,prefixCls:a,mode:H?"multiple":void 0,displayValues:rt,onDisplayValuesChange:lt,searchValue:W,onSearch:on,OptionList:En,emptyOptions:!ve.length,onDropdownVisibleChange:at,dropdownMatchSelectWidth:se}))))}),ke=Yn;ke.TreeNode=ue,ke.SHOW_ALL=z,ke.SHOW_PARENT=Se,ke.SHOW_CHILD=B;var Qn=ke,zn=Qn}}]);
